# Sling Critter - Physics Puzzle Game

一个基于 HTML5 Canvas 和 TypeScript 的物理拼图游戏，使用 Matter.js 物理引擎。

## 🎮 游戏功能

### 完整的游戏流程
- **主菜单** → **关卡选择** → **游戏关卡** → **结果页面** 的完整循环
- 支持两个示例关卡，可通过 JSON 配置轻松添加更多关卡
- 本地存储最佳分数和设置

### 物理系统
- 基于 Matter.js 的稳定物理引擎
- 重力系统 (g = 1.0)
- 碰撞检测和破坏机制
- 材质系统：木材和石材具有不同的物理属性

### 弹弓机制
- 锚点位置：(200, 560)
- 最大拉伸距离：140 单位
- 力度系数：7.5
- 实时轨迹预览（最多30个采样点）
- 鸟类尾迹效果

### 实体系统
- **鸟类**：半径 28，黄色，作为投射物
- **方块**：木材（棕色）和石材（灰色），具有耐久度系统
- **目标**：绿色猪状生物，被击中即消失
- **地面**：位于 y=620，厚度 40

### 相机系统
- 1280×720 逻辑分辨率
- 发射后跟随鸟类飞行
- 平滑插值和边界限制
- 鸟类停止后自动返回弹弓区域

### UI/HUD
- **主菜单**：开始游戏、关卡选择、静音切换
- **游戏 HUD**：剩余鸟类、关卡信息、分数、快捷键提示
- **结果页面**：分数、星级评定、最佳分数记录

## 🎯 游戏目标

- 使用弹弓发射鸟类摧毁所有绿色目标
- 每关最多3只鸟
- 根据分数获得1-3星评级
- 方块可被摧毁以创造连锁反应

## 🎮 控制方式

### 鼠标/触控
- **拖拽**：拉动弹弓瞄准（显示轨迹预览）
- **释放**：发射鸟类
- **点击**：菜单按钮交互

### 键盘快捷键
- **R**：重新开始当前关卡
- **M**：返回主菜单
- **Esc**：返回主菜单

## 🏗️ 技术实现

### 架构
- **场景系统**：Boot → Menu → Level → Result
- **渲染器**：支持 DPR 自适应和等比缩放
- **输入系统**：统一的指针事件处理
- **物理引擎**：Matter.js 集成，支持睡眠和自动清理

### 性能优化
- 固定时间步长物理更新 (1/60s)
- 离屏物体自动清理
- 物理体睡眠机制
- 资源懒加载

### 开发功能
- TypeScript 严格模式
- ESLint + Prettier 代码规范
- Vite 构建系统
- 开发模式下的 FPS 计数器和调试信息

## 🚀 运行游戏

```bash
# 开发模式
npm run dev

# 构建生产版本
npm run build

# 预览构建结果
npm run preview
```

## 📝 关卡配置

关卡通过 JSON 文件配置，支持：
- 弹弓参数调整
- 方块布局和材质
- 目标位置
- 分数星级阈值
- 相机边界设置

示例关卡位于 `src/game/levels/` 目录。

## 🎨 视觉效果

- 夜空渐变背景
- 材质纹理（木纹、石材纹理）
- 粒子轨迹效果
- 平滑的相机过渡
- 响应式 UI 设计

---

**注意**：这是一个原创物理拼图游戏，所有资源和代码均为原创，不使用任何受版权保护的素材。
